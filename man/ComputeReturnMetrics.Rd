% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/return_metrics_calc.R
\name{ComputeReturnMetrics}
\alias{ComputeReturnMetrics}
\title{Calculate Summary Performance Metrics}
\usage{
ComputeReturnMetrics(
  cumulative_df,
  date_col,
  current_date,
  value_cols = NULL,
  calendar = "QuantLib/SouthAfrica"
)
}
\arguments{
\item{cumulative_df}{A data frame containing cumulative return data.}

\item{date_col}{A string specifying the name of the column containing date values.}

\item{current_date}{A Date object representing the current date for the calculation.}

\item{value_cols}{A character vector specifying the columns for which performance
returns should be calculated.}

\item{calendar}{A string specifying the business calendar to use. Defaults to \code{"QuantLib/SouthAfrica"}.}
}
\value{
A data frame containing MTD, YTD, and ITD performance metrics.
}
\description{
Calculate Month-to-Date (MTD), Year-to-Date (YTD), and Inception-to-Date (ITD)
performance returns based on a cumulative returns data frame. Ensures that
date-based calculations are aligned with business days from a specified calendar.
}
\details{
The function ensures that the last month-end and last year-end dates are valid
business dates according to the specified business calendar. The returns are calculated as:
\itemize{
\item \strong{MTD Return}: Performance from the last business day of the previous month to \code{current_date}.
\item \strong{YTD Return}: Performance from the last business day of the previous year to \code{current_date}.
\item \strong{ITD Return}: Performance since inception (assumed to be 100 at the beginning).
}
}
\examples{
\dontrun{
library(dplyr)
library(lubridate)
library(bizdays)

# Load business calendar
load_quantlib_calendars(ql_calendars = "SouthAfrica", from = as.Date("2023-01-01"), to = as.Date("2024-12-31"))

# Create example business dates
biz_dates <- bizdays::bizseq(from = as.Date("2023-01-01"), to = as.Date("2024-12-31"), cal = "QuantLib/SouthAfrica")

# Sample cumulative returns dataset
set.seed(123)
cumulative_df <- data.frame(
  Date = biz_dates,
  Return1 = runif(length(biz_dates), 95, 105),
  Return2 = runif(length(biz_dates), 90, 110)
)

# Run function
ComputeReturnMetrics(cumulative_df, "Date", as.Date("2024-01-31"), value_cols = c("Return1", "Return2"))
}

}
